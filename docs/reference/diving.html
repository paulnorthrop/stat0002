<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Calculation of diving scores — diving • stat0002</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/paper/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Calculation of diving scores — diving"><meta property="og:description" content="Functions to implement four ways to calculate the points awarded for a dive
in a diving competition, including the way that is used in the Olympic
Games."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">stat0002</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.2.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/stat0002-ch1a-shuttle-vignette.html">Chapter 1: The Challenger Space Shuttle Disaster</a>
    </li>
    <li>
      <a href="../articles/stat0002-ch1b-stochastic-simulation-vignette.html">Chapter 1: Stochastic Simulation</a>
    </li>
    <li>
      <a href="../articles/stat0002-ch1c-stochastic-simulation-vignette-2.html">Chapter 1: Stochastic Simulation 2</a>
    </li>
    <li>
      <a href="../articles/stat0002-ch2a-descriptive-statistics-vignette.html">Chapter 2: Descriptive Statistics</a>
    </li>
    <li>
      <a href="../articles/stat0002-ch2b-graphs-vignette.html">Chapter 2: Graphs (One Variable)</a>
    </li>
    <li>
      <a href="../articles/stat0002-ch2c-graphs-vignette.html">Chapter 2: Graphs (More Than One Variable)</a>
    </li>
    <li>
      <a href="../articles/stat0002-ch2d-box-cox-transformation-vignette.html">Chapter 2: Transformation Of Variable</a>
    </li>
    <li>
      <a href="../articles/stat0002-ch3-probability-vignette.html">Chapter 3: Probability</a>
    </li>
    <li>
      <a href="../articles/stat0002-ch4-more-probability-vignette.html">Chapter 4: More Probability</a>
    </li>
    <li>
      <a href="../articles/stat0002-ch5-random-variables-vignette.html">Chapter 5: Random Variables</a>
    </li>
    <li>
      <a href="../articles/stat0002-ch6a-discrete-random-variables-vignette.html">Chapter 6: binomial, geometric and Poisson distributions</a>
    </li>
    <li>
      <a href="../articles/stat0002-ch6b-continous-random-variables-vignette.html">Chapter 6: uniform, exponential and normal distributions</a>
    </li>
    <li>
      <a href="../articles/stat0002-ch6c-qq-plots-vignette.html">Chapter 6: QQ plots</a>
    </li>
    <li>
      <a href="../articles/stat0002-ch7-statistical-inference-vignette.html">Chapter 7: Statistical Inference</a>
    </li>
    <li>
      <a href="../articles/stat0002-ch8-contingency-tables-vignette.html">Chapter 8: Contingency tables</a>
    </li>
    <li>
      <a href="../articles/stat0002-ch9-linear-regression-vignette.html">Chapter 9: Linear regression</a>
    </li>
    <li>
      <a href="../articles/stat0002-ch9plus1-correlation-vignette.html">Chapter 10: Correlation</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/paulnorthrop/stat0002/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Calculation of diving scores</h1>
    <small class="dont-index">Source: <a href="https://github.com/paulnorthrop/stat0002/blob/HEAD/R/diving.R" class="external-link"><code>R/diving.R</code></a></small>
    <div class="hidden name"><code>diving.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Functions to implement four ways to calculate the points awarded for a dive
in a diving competition, including the way that is used in the Olympic
Games.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">dmean</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  DD <span class="op">=</span> <span class="st">"DD"</span>,</span>
<span>  scores <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"J"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">7</span><span class="op">)</span>,</span>
<span>  trim <span class="op">=</span> <span class="fl">2</span><span class="op">/</span><span class="fl">7</span>,</span>
<span>  replace <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  reorder <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">dmedian</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  DD <span class="op">=</span> <span class="st">"DD"</span>,</span>
<span>  scores <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"J"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">7</span><span class="op">)</span>,</span>
<span>  type <span class="op">=</span> <span class="fl">6</span>,</span>
<span>  replace <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  reorder <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">dmode</span><span class="op">(</span><span class="va">x</span>, DD <span class="op">=</span> <span class="st">"DD"</span>, scores <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"J"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">7</span><span class="op">)</span>, replace <span class="op">=</span> <span class="cn">TRUE</span>, reorder <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">tables</span><span class="op">(</span><span class="va">x</span>, type <span class="op">=</span> <span class="fl">1</span>, diverRanks <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>x</dt>
<dd><p>A numeric matrix or data frame, ideally of the same format as
<code><a href="daley.html">daley</a></code>.</p></dd>


<dt>DD</dt>
<dd><p>A character (or numeric) scalar giving the column name (or number)
of <code>x</code> that contains the DD (degree of difficulty) values of each
dive.  The default is set up to work with the data in
<code><a href="daley.html">daley</a></code>.</p></dd>


<dt>scores</dt>
<dd><p>A character (or numeric) vector giving the column names (or
numbers) of <code>x</code> that contain the 7 scores for each dive.  The default
is set up to work with the data in <code><a href="daley.html">daley</a></code>.</p></dd>


<dt>trim</dt>
<dd><p>Only relevant to <code>divemean</code>. Passed to <code><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></code>.
The default, <code>trim = 2 / 7</code>, corresponds to the calculation using in
diving competitions.</p></dd>


<dt>replace</dt>
<dd><p>A logical scalar.  If <code>replace = FALSE</code> then a vector
of the dive points is returned. If <code>replace = TRUE</code> then the
<code>DivePoints</code>, <code>DiveRank</code>, <code>TotalPoints</code>, <code>OverallRank</code>
and <code>PointsBehind</code> columns are updated in light of the new values of
the dive points and this data frame is returned.  If any of these named
columns do not exist then the returned object is the same as the
<code>replace = FALSE</code> case.</p></dd>


<dt>reorder</dt>
<dd><p>A logical scalar.  If <code>replace = TRUE</code> then
<code>reorder</code> determines whether the order of the divers is changed
to reflect the new values of <code>TotalPoints</code> at the end of the
competition.</p></dd>


<dt>type</dt>
<dd><p>Determines the form of a data frame returned as a summary table.</p><ul><li><p><code>type = 0</code>: Rank, Name, NOCcode (Country), TotalPoints at the
    end of the competition.</p></li>
<li><p><code>type = 1</code>: DD, J1-J7 and dive points (those already in
    <code>x</code>).</p></li>
<li><p><code>type = 2</code>: like <code>type = 1</code> but gives dive points, and
    points based on the mean, median and mode.</p></li>
<li><p><code>type = 3</code>: like <code>type = 2</code> but gives only the total
    points accumulated over the competition, ordered by dive points.</p></li>
<li><p><code>type = 4</code>: like <code>type = 3</code> but totals are replaced by
    ranks.</p></li>
</ul></dd>


<dt>diverRanks</dt>
<dd><p>The ranks of the divers that should be included in a
table. For example, <code>diverRanks</code> gives the medalists.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A numeric vector dive points if <code>replace = FALSE</code> or <code>x</code></p>


<p>does not have appropriately named columns.  Otherwise, a dataframe of the
  same structure as <code>x</code> in which the columns <code>DivePoints</code>,</p>
<p></p>
<p><code>DiveRank</code>, <code>TotalPoints</code>, <code>OverallRank</code> and</p>
<p></p>
<p><code>PointsBehind</code> have been updated in light of the new dive points
  values.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>In the default case, e.g. <code>dmean(daley)</code>, the 2 smallest and
  2 largest scores of the 7 scores are removed; the sum of the 3 remaining
  scores is calculated; and the result is multiplied by the dive's
  degree of difficulty.</p>
<p>Another way to think of this is that we take the sample mean of the 3
  middle scores, then multiply by 3, then multiply by the degree of
  difficulty.</p>
<p>In the <code>dmean(daley, trim = 0)</code> case we take the sample mean of all
  7 scores, then multiply by 3, then multiply by the degree of difficulty.
  That is, we do not trim the 2 smallest and 2 largest values.</p>
<p>Similarly, in the <code>dmedian(daley)</code> and <code>dmode(daley)</code> cases we
  take the sample median or mode, respectively, of all 7 scores, then
  multiply by 3, then multiply by the degree of difficulty. If there is more
  than one sample mode then we use the sample mean of these modes.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="daley.html">daley</a></code> for Tokyo 2020 Olympics Diving Men's
  Individual 10m platform final results</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># The calculation used in competitions (trimmed sample sums)</span></span></span>
<span class="r-in"><span><span class="fu">dmean</span><span class="op">(</span><span class="va">daley</span>, replace <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 102.00  81.60  97.20  97.20 101.75 102.60  90.10  94.50  89.25  91.20</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11] 102.60 112.75  98.60  91.20  91.80  80.50  94.35  91.80  75.20  91.80</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [21]  85.75  81.00  94.35  86.40  68.80  91.80  91.80  73.80  83.25  86.40</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [31]  83.20  79.20  88.20  56.10  75.00  80.00  72.00  86.40  75.85  86.40</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [41]  35.70  75.60  57.60  61.20  74.25  76.50  72.00  88.80  68.80  72.60</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [51]  39.60  88.80  69.70  68.40  60.80  79.20  46.20  79.55  56.10  72.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [61]  67.20  59.40  48.60  69.70  66.60  72.15  67.20  59.40  59.50  42.50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [71]  72.15  81.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"statistic")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "DivePoints"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># An equivalent calculation without trimming</span></span></span>
<span class="r-in"><span><span class="fu">dmean</span><span class="op">(</span><span class="va">daley</span>, replace <span class="op">=</span> <span class="cn">FALSE</span>, trim <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 100.54286  82.28571  96.42857  97.20000 102.27857 104.14286  88.88571</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8]  93.00000  89.25000  92.01429 103.37143 113.33571  97.62857  91.20000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [15]  91.80000  81.00000  95.93571  91.80000  74.74286  90.34286  85.50000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [22]  79.45714  94.35000  86.40000  69.25714  93.25714  92.57143  74.05714</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [29]  82.45714  84.08571  84.34286  78.49286  88.71429  56.10000  75.85714</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [36]  79.54286  71.31429  87.17143  74.52857  85.62857  37.15714  74.82857</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [43]  58.28571  61.71429  74.25000  76.50000  73.28571  91.17857  69.94286</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [50]  72.12857  42.42857  89.59286  68.48571  68.65714  60.34286  79.90714</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [57]  45.96429  80.07857  56.10000  71.31429  67.88571  60.94286  49.37143</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [64]  67.02857  66.34286  73.73571  67.20000  59.40000  59.25000  43.71429</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [71]  72.94286  79.45714</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"statistic")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "MeanPoints"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># An equivalent calculation based on a sample median</span></span></span>
<span class="r-in"><span><span class="fu">dmedian</span><span class="op">(</span><span class="va">daley</span>, replace <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 102.00  81.60  97.20  97.20  99.90 102.60  91.80  94.50  89.25  91.20</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11] 102.60 110.70  96.90  91.20  91.80  78.75  94.35  91.80  76.80  91.80</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [21]  84.00  81.00  94.35  86.40  67.20  91.80  91.80  75.60  83.25  86.40</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [31]  81.60  79.20  86.40  56.10  76.50  81.60  72.00  86.40  77.70  86.40</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [41]  35.70  75.60  57.60  59.40  74.25  76.50  70.20  88.80  67.20  74.25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [51]  39.60  88.80  71.40  70.20  62.40  79.20  44.55  77.70  56.10  72.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [61]  67.20  59.40  48.60  71.40  64.80  72.15  67.20  59.40  57.75  40.80</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [71]  72.15  81.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"statistic")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "MedianPoints"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># An equivalent calculation based on a sample mode</span></span></span>
<span class="r-in"><span><span class="fu">dmode</span><span class="op">(</span><span class="va">daley</span>, replace <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 102.000  81.600  97.200  97.200  99.900 102.600  91.800  94.500  89.250</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10]  91.200 102.600 110.700  99.450  91.200  91.800  78.750  94.350  91.800</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [19]  76.800  91.800  86.625  81.000  94.350  86.400  67.200  91.800  91.800</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [28]  75.600  83.250  86.400  81.600  79.200  86.400  56.100  72.000  81.600</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [37]  72.000  86.400  77.700  86.400  35.700  75.600  57.600  59.400  74.250</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [46]  76.500  70.200  88.800  67.200  74.250  39.600  88.800  71.400  67.500</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [55]  62.400  79.200  47.025  77.700  56.100  72.000  67.200  59.400  48.600</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [64]  71.400  67.500  72.150  67.200  59.400  60.375  40.800  72.150  81.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"statistic")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "ModePoints"</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Paul J. Northrop.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

