<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Sampling distribution of the correlation coefficient movie — corr_sim_movie • stat0002</title><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Sampling distribution of the correlation coefficient movie — corr_sim_movie"><meta name="description" content="A movie to illustrate how the sampling distribution of the product moment
sample correlation coefficient \(r\) depends on the sample size \(n\)
and on the true correlation \(\rho\)."><meta property="og:description" content="A movie to illustrate how the sampling distribution of the product moment
sample correlation coefficient \(r\) depends on the sample size \(n\)
and on the true correlation \(\rho\)."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">stat0002</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.2.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/stat0002-ch1a-shuttle-vignette.html">Chapter 1: The Challenger Space Shuttle Disaster</a></li>
    <li><a class="dropdown-item" href="../articles/stat0002-ch1b-stochastic-simulation-vignette.html">Chapter 1: Stochastic Simulation</a></li>
    <li><a class="dropdown-item" href="../articles/stat0002-ch1c-stochastic-simulation-vignette-2.html">Chapter 1: Stochastic Simulation 2</a></li>
    <li><a class="dropdown-item" href="../articles/stat0002-ch2a-descriptive-statistics-vignette.html">Chapter 2: Descriptive Statistics</a></li>
    <li><a class="dropdown-item" href="../articles/stat0002-ch2b-graphs-vignette.html">Chapter 2: Graphs (One Variable)</a></li>
    <li><a class="dropdown-item" href="../articles/stat0002-ch2c-graphs-vignette.html">Chapter 2: Graphs (More Than One Variable)</a></li>
    <li><a class="dropdown-item" href="../articles/stat0002-ch2d-box-cox-transformation-vignette.html">Chapter 2: Transformation Of Variable</a></li>
    <li><a class="dropdown-item" href="../articles/stat0002-ch3-probability-vignette.html">Chapter 3: Probability</a></li>
    <li><a class="dropdown-item" href="../articles/stat0002-ch4-more-probability-vignette.html">Chapter 4: More Probability</a></li>
    <li><a class="dropdown-item" href="../articles/stat0002-ch5-random-variables-vignette.html">Chapter 5: Random Variables</a></li>
    <li><a class="dropdown-item" href="../articles/stat0002-ch6a-discrete-random-variables-vignette.html">Chapter 6: binomial, geometric and Poisson distributions</a></li>
    <li><a class="dropdown-item" href="../articles/stat0002-ch6b-continous-random-variables-vignette.html">Chapter 6: uniform, exponential and normal distributions</a></li>
    <li><a class="dropdown-item" href="../articles/stat0002-ch6c-qq-plots-vignette.html">Chapter 6: QQ plots</a></li>
    <li><a class="dropdown-item" href="../articles/stat0002-ch7-statistical-inference-vignette.html">Chapter 7: Statistical Inference</a></li>
    <li><a class="dropdown-item" href="../articles/stat0002-ch8-contingency-tables-vignette.html">Chapter 8: Contingency tables</a></li>
    <li><a class="dropdown-item" href="../articles/stat0002-ch9-linear-regression-vignette.html">Chapter 9: Linear regression</a></li>
    <li><a class="dropdown-item" href="../articles/stat0002-ch9plus1-correlation-vignette.html">Chapter 10: Correlation</a></li>
    <li><a class="dropdown-item" href="../articles/stat0002-creating-pdf-files-vignette.html">Creating PDF files using R markdown</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="nav-link" href="https://github.com/paulnorthrop/stat0002/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Sampling distribution of the correlation coefficient movie</h1>
      <small class="dont-index">Source: <a href="https://github.com/paulnorthrop/stat0002/blob/HEAD/R/correlation_simulation_movie.R"><code>R/correlation_simulation_movie.R</code></a></small>
      <div class="d-none name"><code>corr_sim_movie.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>A movie to illustrate how the sampling distribution of the product moment
sample correlation coefficient \(r\) depends on the sample size \(n\)
and on the true correlation \(\rho\).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">corr_sim_movie</span><span class="op">(</span></span>
<span>  n <span class="op">=</span> <span class="fl">30</span>,</span>
<span>  rho <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  panel_plot <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  hscale <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  vscale <span class="op">=</span> <span class="va">hscale</span>,</span>
<span>  delta_n <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  delta_rho <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-n">n<a class="anchor" aria-label="anchor" href="#arg-n"></a></dt>
<dd><p>An integer scalar.  The initial value of the sample size.
Must not be less than 2.</p></dd>


<dt id="arg-rho">rho<a class="anchor" aria-label="anchor" href="#arg-rho"></a></dt>
<dd><p>A numeric scalar.  The initial value of the true correlation
\(\rho\).  Must be in [-1, 1].</p></dd>


<dt id="arg-panel-plot">panel_plot<a class="anchor" aria-label="anchor" href="#arg-panel-plot"></a></dt>
<dd><p>A logical parameter that determines whether the plot
is placed inside the panel (<code>TRUE</code>) or in the standard graphics
window (<code>FALSE</code>).  If the plot is to be placed inside the panel
then the tkrplot library is required.</p></dd>


<dt id="arg-hscale-vscale">hscale, vscale<a class="anchor" aria-label="anchor" href="#arg-hscale-vscale"></a></dt>
<dd><p>Numeric scalars.  Scaling parameters for the size
of the plot when <code>panel_plot = TRUE</code>. The default values are 1.4 on
Unix platforms and 2 on Windows platforms.</p></dd>


<dt id="arg-delta-n">delta_n<a class="anchor" aria-label="anchor" href="#arg-delta-n"></a></dt>
<dd><p>An integer scalar.  The amount by which the value of the
sample size is increased/decreased after one click of the +/- button.</p></dd>


<dt id="arg-delta-rho">delta_rho<a class="anchor" aria-label="anchor" href="#arg-delta-rho"></a></dt>
<dd><p>A numeric scalar.  The amount by which the value of
rho is increased/decreased after one click of the +/- button.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments to the rpanel functions
<code><a href="https://rdrr.io/pkg/rpanel/man/rp.button.html" class="external-link">rp.button</a></code> and
<code><a href="https://rdrr.io/pkg/rpanel/man/rp.doublebutton.html" class="external-link">rp.doublebutton</a></code>, not including <code>panel</code>,
<code>variable</code>, <code>title</code>, <code>step</code>, <code>action</code>, <code>initval</code>,
<code>range</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Nothing is returned, only the animation is produced.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Random samples of size \(n\) are simulated from a
  <a href="https://en.wikipedia.org/wiki/Multivariate_normal_distribution" class="external-link">bivariate normal distribution</a>
  in which each of the variables has a mean of 0 and a variance of 1 and
  the correlation \(\rho\) between the variables is chosen by the user.</p>
<p>The movie contains two plots.  On the top is a scatter plot of the
  simulated sample, illustrating the strength of the association between
  the simulated values of the variables.
  A new sample is produced by clicking "simulate another sample.
  For each simulated sample the sample (product moment) correlation
  coefficient \(r\) is calculated and displayed in the title of the top
  plot.</p>
<p>The values of the sample correlation coefficients are stored and are
  plotted in a histogram in the bottom plot.  A rug displays the individual
  values, with the most recent value coloured red. As we accumulate a large
  number of values in this histogram the shape of the sampling
  distribution of \(r\) emerges.  The exact p.d.f. of \(r\) is
  superimposed on this histogram, as is the value of \(\rho\).</p>
<p>The bottom plot can be changed in two ways:
  (i) a radio button can be pressed to replace the histogram and pdf with
  a plot of the empirical c.d.f. and exact cdf;
  (ii) the variable can be changed from \(\rho\) to Fisher's
  z-transformation \(F(\rho) = arctanh(\rho) = [ln(1+\rho) - ln(1-\rho)]/2\).
  For sufficiently large values of \(n\), \(F(\rho)\) has approximately
  a normal distribution with mean \(\rho\) and variance
  \(1 / (n - 3)\).</p>
<p>The values of the sample size \(n\) or true correlation coefficient
  \(\rho\) can be changed using the respective +/- buttons.
  If one of these is changed then the bottom plot is
  reset using the sample correlation coefficient of the first sample
  simulated using the new combination of \(n\) and \(\rho\).</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="https://paulnorthrop.github.io/smovie/reference/movies.html" class="external-link">movies</a></code>: a user-friendly menu panel.</p>
<p><code><a href="https://paulnorthrop.github.io/smovie/reference/smovie-package.html" class="external-link">smovie</a></code>: general information about smovie.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu">corr_sim_movie</span><span class="op">(</span>rho <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">corr_sim_movie</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Paul J. Northrop.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

